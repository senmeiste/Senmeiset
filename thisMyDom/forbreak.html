<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>breakIs For</title>
	</head>
	<body>
		<div>
			4454564564564
		</div>
	</body>
	<script>
		//通过工厂方式创建对象，先定义一个工厂方法
		function createObj() {
			var obj = new Object();
			obj.name = "xxx";
			obj.say = function() {
				alert("我是xxx");
			}
			return obj;
		}
		//调用工厂方法创建对象:
		var obj1 = createObj();
		//也可以用这种形式
		function createObj() {
			var obj = {}; //这样生成对象
			obj.name = "xxx";
			obj.say = function() {
				alert("我是xxx");
			}
			return obj;
		}
		var obj1 = createObj();




		//创建一个构造器，构造函数首字母大写
		function Obj() {
			this.name = "xxx";
			this.say = function() {
				alert("我是xxx");
			};
		}
		//利用构造器，通过new关键字生成对象
		var obj1 = new Obj();



		//用空函数创建一个类
		function Obj() {}
		//在类的原型链上添加属性和方法
		Obj.prototype.name = "xxx";
		Obj.prototype.say = function() {
			alert("我是xxx");
		}
		//生成对象
		var obj1 = new Obj();



		//用构造函数定义对象的非函数属性
		function Obj(name) {
			this.name = name;
			this.arr = new Array('a', 'b');
		}
		//用原型方式定义对象的方法
		Obj.prototype.say = function() {
			alert("我是xxx");
		}
		//生成对象
		var obj1 = new Obj('xxx');


		//动态原型方式和原型/构造混合方式的原理相似，唯一的区别就是赋予对象方法的位置
		function Person(name, sex) {
			this.name = name;
			this.sex = sex;
			if (typeof this.say != "function") {
				Person.prototype.say = function() {
					alert(this.name);
				}
			}
		}
		var man = new Person("凯撒", "男");
		man.say(); //凯撒


		//定义一个add 方法
		function add(x, y) {
			return x + y;
		}

		//用call 来调用 add 方法
		function myAddCall(x, y) {
			//调用 add 方法 的 call 方法
			return add.call(this, x, y);
		}

		//apply 来调用 add 方法
		function myAddApply(x, y) {
			//调用 add 方法 的 applly 方法
			return add.apply(this, [x, y]);
		}

		console.log(myAddCall(10, 20)); //输出结果30

		console.log(myAddApply(20, 20)); //输出结果40



		var getJSON = function(url) {
			var promise = new Promise(function(resolve, reject) {
				var XHR = new XMLHttpRequest();
				XHR.open("GET", url);
				XHR.onreadystatechange = function() {
					if (this.readyState !== 4) {
						return;
					}
					if (this.status == 200) {
						resolve(this.response);
					} else {
						reject(new Error(this.statusText));
					}
				};
				XHR.responseType = "json";
				XHR.setRequestHeader("Accept", "application/json");
				XHR.send();
			});
			return promise;
		};
		getJSON("posts.json").then(function(json) {
			console.log("Contents : " + json);
		}, function(error) {
			console.log("出错了", error);
		});

		//创建一个类
		function Person() {};
		//在原型上定义相关方法
		Person.prototype = {
			setName: function() {
				this.name = name;
				return this;
			},
			setAge: function() {
				this.age = age;
				return this;
			}
		}
		//实例化
		var person = new Person();
		person.setName("Mary").setAge(20);

		//将实例化过程封装为一个函数
		function newObj() {
			return new Person();
		}
		newObj().setName("Mary").setAge(20)



		for (let i = 0; i < 10; i++) {
			if (i > 6) {
				continue;
			} else {
				console.log(i)
			}
			break;
			console.log(i)
		}
		console.log(i)
		
		for (var i=0;i<=10;++i) {
			(function(){
				setTimeout(()=>(
					console.log(i)
				),1)
			})()
		}
		
		
		
		
		function urlKey (){
			var query = window.location.search.substring(1);
			var vars = query.split("&");
			var values = {};
			for (var i=0;i<vars.length;i++) {
				var pair = vars[i].split("=");
				values[pair[0]] = decodeURIComponent(pair[1])
			}
			return values
		}
		var urldata = urlKey();
		console.log(urldata)
	</script>
</html>

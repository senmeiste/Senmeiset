<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		function sing() {
			return new Promise(function(resolve, reject) {
				setTimeout(function() {
					resolve(`来一首好听的歌吧~~~`);
				}, 1000);
			});
		}

		function say() {
			return new Promise(function(resolve, reject) {
				setTimeout(function() {
					let age = 26
					resolve(`hello, joel，今年我 ${age} 岁`);
					// reject(`hello, joel，发生了异常。今年我 ${age} 岁`);
				}, 1000);
			});
		}
		async function demo() {
			try {
				const v = await say();
				const s = await sing();
				console.log(v); // 输出：hello, joel。今年我 26 岁
				console.log(s) // 来一首好听的歌吧~~~
			} catch (e) {
				console.log(e)
			}
		}
		demo();



		async function imAsync(num) {
			if (num > 0) {
				return num // 这里相当于resolve(num)
			} else {
				throw num // 这里相当于reject(num)
			}
		}

		imAsync(1).then(function(v) {
			console.log(v); // 1
		});

		// 注意这里是catch
		imAsync(0).catch(function(v) {
			console.log(v); // 0
		})



		var sen = [1, 2, 3, 4, 5]

		sen.map(n => console.log(n))


		var arr = [1, 2, 3, '4'];

		var arr2 = arr;
		arr2[1] = "test";
		console.log(arr); // [1, "test", 3, "4"]
		console.log(arr2); // [1, "test", 3, "4"]

		var arr = ['a', 'b', 'c'];
		var arrCopy = arr.slice(0);
		arrCopy[0] = 'test'
		console.log(arr); // ["a", "b", "c"]
		console.log(arrCopy); // ["test", "b", "c"]

		var arr = ['a', 'b', 'c'];
		var arrCopy = arr.concat();
		arrCopy[0] = 'test'
		console.log(arr); // ["a", "b", "c"]
		console.log(arrCopy); // ["test", "b", "c"]




		var obj = {
			name: 'Hanna',
			age: 22
		}
		var deepCopy = function(source) {
			var result = {};
			for (var key in source) {
				if (typeof source[key] === 'object') {
					result[key] = deepCopy(source[key])
				} else {
					result[key] = source[key]
				}
			}
			return result;
		}
		
		
		
		var array = [1,2,3,4,5,6,7];  
		array.forEach(v=>{  
			console.log(v);  
		});
	</script>
</html>
